    ---
    apiVersion: "apps/v1"
    kind: "Deployment"
    metadata:
      name: "rims"
      namespace: "default"
      labels:
        app: "rims"
    spec:
      replicas: 2
      selector:
        matchLabels:
          app: "rims"
      template:
        metadata:
          labels:
            app: "rims"
        spec:
          containers:
          - name: "rims-1"
            image: "gcr.io/$PROJECT_ID/demo-app:latest"
    ---
    apiVersion: "autoscaling/v2beta1"
    kind: "HorizontalPodAutoscaler"
    metadata:
      name: "rims-hpa-e3qd"
      namespace: "default"
      labels:
        app: "rims"
    spec:
      scaleTargetRef:
        kind: "Deployment"
        name: "rims"
        apiVersion: "apps/v1"
      minReplicas: 1
      maxReplicas: 5
      metrics:
      - type: "Resource"
        resource:
          name: "cpu"
          targetAverageUtilization: 80
    ---
    apiVersion: v1
    kind: Pod
    metadata:
    name: rims-pod
    labels:
        name: rims-pod
        app: rims-app

    spec:
    containers:
        - name: rims
        image: "gcr.io/$PROJECT_ID/demo-app:latest"
        ports:
            - containerPort: 80
    ---
    apiVersion: v1
    kind: Service
    metadata:
    name: rims
    labels:
        name: rims-service
        app: rims-app
    spec:
    type: LoadBalancer
    ports:
    - port: 80
        targetPort: 80
    selector:
        name: rims-pod
        app: rims-app